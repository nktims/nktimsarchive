<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Portfolio</title>

  <style>
    html, body {
      margin: 0;
      width: 100%;
      height: 100vh;
      font-family: sans-serif;
      background: #f5f5f5;
      overflow: hidden;
    }

    .portfolio-container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    /* TRACE PAPER EFFECT */
    .portfolio-image {
      position: absolute;
      cursor: grab;
      opacity: 0.8;
      filter: saturate(0.95);
      transition: opacity 0.2s ease;
      user-select: none;
    }

    .portfolio-image:hover {
      opacity: 0.95;
    }

    .portfolio-image:active {
      cursor: grabbing;
      z-index: 1000;
      opacity: 1;
    }

    /* Fixed nav bar */
    nav {
      padding: 20px;
      display: flex;
      gap: 80px;
      justify-content: center;
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #f5f5f5;
      z-index: 2000;
    }

    nav a {
      text-decoration: none;
      color: black;
    }
  </style>
</head>

<body>

  <div class="portfolio-container" id="portfolio">
    <a href="project1.html"><img src="assets/portfolio1.png" class="portfolio-image" style="width:250px;"></a>
    <a href="project2.html"><img src="assets/portfolio2.png" class="portfolio-image" style="width:400px;"></a>
    <a href="project3.html"><img src="assets/portfolio3.png" class="portfolio-image" style="width:350px;"></a>
    <a href="project4.html"><img src="assets/portfolio4.png" class="portfolio-image" style="width:525px;"></a>
    <a href="project5.html"><img src="assets/portfolio5.png" class="portfolio-image" style="width:500px;"></a>
    <a href="project6.html"><img src="assets/portfolio6.png" class="portfolio-image" style="width:1000px;"></a>
    <a href="project6.html"><img src="assets/portfolio8.png" class="portfolio-image" style="width:350px;"></a>
    <a href="project6.html"><img src="assets/portfolio9.png" class="portfolio-image" style="width:350px;"></a>
	<a href="project6.html"><img src="assets/portfolio10.png" class="portfolio-image" style="width:500px;"></a> 
	<a href="project6.html"><img src="assets/portfolio11.png" class="portfolio-image" style="width:500px;"></a>
	<a href="project6.html"><img src="assets/portfolio12.png" class="portfolio-image" style="width:250px;"></a>
  </div>

  <nav id="nav">
    <a href="about.html">About</a>
    <a href="CV.html">CV</a> <a href="index.html">Home</a> <a href="page4.html">Writing</a>
    <a href="page5.html">Photos</a>
    <a href="page6.html">Contact</a>
  </nav>

  <script>
    const container = document.getElementById('portfolio');
    let images = Array.from(document.querySelectorAll('.portfolio-image'));
    const nav = document.getElementById('nav');

    /* Shuffle helper */
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function positionImages() {
      const navHeight = nav.offsetHeight;
      const usableHeight = window.innerHeight - navHeight;
      const centerX = window.innerWidth / 2;
      const centerY = usableHeight / 2;

      images.forEach((img, index) => {
        const baseSpread = 30;
        const randomJitter = 20;

        const stackIndex = index - (images.length - 1) / 2;

        const offsetX =
          stackIndex * baseSpread +
          (Math.random() * randomJitter - randomJitter / 2);

        const offsetY =
          stackIndex * baseSpread * 0.5 +
          (Math.random() * randomJitter - randomJitter / 2);

        img.style.left =
          centerX - img.offsetWidth / 2 + offsetX + 'px';

        img.style.top =
          centerY - img.offsetHeight / 2 + offsetY + 'px';

        img.style.zIndex = index;
      });
    }

    /* Wait for images to load */
    let loaded = 0;
    images.forEach(img => {
      if (img.complete) {
        loaded++;
      } else {
        img.addEventListener('load', () => {
          loaded++;
          if (loaded === images.length) init();
        });
      }
    });

    if (loaded === images.length) init();

    function init() {
      // Randomize order in DOM
      images = shuffle(images);
      images.forEach(img => container.appendChild(img.parentElement));

      positionImages();
    }

    window.addEventListener('resize', positionImages);

    /* Drag logic */
    images.forEach(img => {
      let dragOffsetX, dragOffsetY;
      let isDragging = false;

      img.addEventListener('mousedown', e => {
        e.preventDefault();
        dragOffsetX = e.clientX - img.offsetLeft;
        dragOffsetY = e.clientY - img.offsetTop;
        isDragging = false;

        function move(e) {
          img.style.left = e.clientX - dragOffsetX + 'px';
          img.style.top  = e.clientY - dragOffsetY + 'px';
          isDragging = true;
        }

        document.addEventListener('mousemove', move);
        document.addEventListener('mouseup', function up() {
          document.removeEventListener('mousemove', move);
          document.removeEventListener('mouseup', up);
        });
      });

      img.addEventListener('click', e => {
        if (isDragging) e.preventDefault();
      });

      img.ondragstart = () => false;
    });
  </script>

</body>
</html>

